<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/IA-DESACTIVADA-SOLO-SIMULADOR.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/IA-DESACTIVADA-SOLO-SIMULADOR.md" />
              <option name="updatedContent" value="# ✅ IA DESACTIVADA - SOLO SIMULADOR ACTIVO&#10;&#10;##  CAMBIOS REALIZADOS:&#10;&#10;### ❌ IA Real Eliminada&#10;Se ha desactivado completamente toda la funcionalidad de Gemini AI para evitar errores de compilación.&#10;&#10;### ✅ Simulador Activado&#10;La app ahora funciona **únicamente con el simulador** de entrevistas.&#10;&#10;---&#10;&#10;##  ARCHIVOS MODIFICADOS:&#10;&#10;### `GeminiService.kt`&#10;&#10;**Importaciones eliminadas:**&#10;```kotlin&#10;// ❌ ELIMINADO:&#10;import com.google.ai.client.generativeai.GenerativeModel&#10;import com.google.ai.client.generativeai.type.content&#10;&#10;// ✅ SOLO QUEDAN:&#10;import kotlinx.coroutines.delay&#10;import kotlinx.coroutines.flow.Flow&#10;import kotlinx.coroutines.flow.flow&#10;```&#10;&#10;**Funciones eliminadas:**&#10;- ❌ `generativeModel` (instancia lazy)&#10;- ❌ `chatSession` (sesión de chat con Gemini)&#10;- ❌ `startRealAIInterview()`&#10;- ❌ `getSystemPrompt()`&#10;- ❌ `sendMessageToRealAI()`&#10;- ❌ `buildPromptWithInstructions()`&#10;- ❌ `evaluateSkillsWithRealAI()`&#10;- ❌ `parseEvaluationScores()`&#10;&#10;**Funciones que permanecen:**&#10;- ✅ `startNewInterview()` → Siempre usa simulador&#10;- ✅ `sendMessage()` → Siempre usa simulador&#10;- ✅ `evaluateSkills()` → Siempre usa simulador&#10;- ✅ `startSimulatedInterview()`&#10;- ✅ `sendMessageToSimulator()`&#10;- ✅ `evaluateSkillsSimulated()`&#10;&#10;---&#10;&#10;##  COMPILAR Y EJECUTAR:&#10;&#10;### Paso 1: Limpiar (opcional)&#10;```&#10;Build → Clean Project&#10;```&#10;&#10;### Paso 2: Compilar&#10;```&#10;Build → Make Project&#10;```&#10;&#10;O ejecuta directamente:&#10;```&#10;Run → Run 'app' ▶️&#10;```&#10;&#10;---&#10;&#10;##  FLUJO DE LA ENTREVISTA (SIMULADOR):&#10;&#10;```&#10;1. Usuario: &quot;Iniciar Entrevista&quot;&#10;   ↓&#10;2. App: &quot;¡Hola! Bienvenido a la entrevista simulada.&#10;         Para comenzar, dime tu nombre, profesión y edad.&quot;&#10;   ↓&#10;3. Usuario: &quot;Soy Andre, administrador de empresas, 27 años&quot;&#10;   ↓&#10;4. App: &quot;Gracias por la información. Cuéntame sobre un desafío&#10;         importante que hayas enfrentado...&quot;&#10;   ↓&#10;5. [6 preguntas predefinidas más]&#10;   ↓&#10;6. App: &quot;Perfecto. Muchas gracias por tu tiempo.&#10;         Hemos concluido la entrevista. ENTRENVISTA_COMPLETADA&quot;&#10;   ↓&#10;7. Evaluación aleatoria (75-95 puntos por skill)&#10;   ↓&#10;8. Pantalla de resultados&#10;```&#10;&#10;---&#10;&#10;##  PREGUNTAS DEL SIMULADOR:&#10;&#10;1. **Inicial:** Nombre, profesión, edad&#10;2. **P1:** Desafío importante en un proyecto&#10;3. **P2:** Trabajar con personalidad diferente&#10;4. **P3:** Proyecto con plazo ajustado&#10;5. **P4:** Miembro del equipo no cumple&#10;6. **P5:** Adaptación a cambio inesperado&#10;7. **P6:** Comunicar idea compleja&#10;8. **Final:** Conclusión de entrevista&#10;&#10;---&#10;&#10;##  EVALUACIÓN (SCORES ALEATORIOS):&#10;&#10;```kotlin&#10;SoftSkill.COMMUNICATION      → 75-95 puntos&#10;SoftSkill.LEADERSHIP         → 70-90 puntos&#10;SoftSkill.TEAMWORK           → 80-95 puntos&#10;SoftSkill.PROBLEM_SOLVING    → 75-90 puntos&#10;SoftSkill.ADAPTABILITY       → 80-95 puntos&#10;```&#10;&#10;**Cada vez que terminas una entrevista, los scores son diferentes (realistas).**&#10;&#10;---&#10;&#10;##  LOGS ESPERADOS:&#10;&#10;### Al iniciar entrevista:&#10;```&#10;D/GeminiService: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&#10;D/GeminiService:  Iniciando nueva entrevista&#10;D/GeminiService:    Modo: SIMULADOR (IA desactivada)&#10;D/GeminiService: ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&#10;D/GeminiService:  Usando SIMULADOR de entrevista&#10;```&#10;&#10;### Al enviar mensaje:&#10;```&#10;D/GeminiService:  Simulador procesando mensaje: Soy Andre...&#10;D/GeminiService:  Enviando pregunta 1/7&#10;```&#10;&#10;### Al finalizar:&#10;```&#10;D/GeminiService: ✅ Fin de la entrevista simulada&#10;D/GeminiService:  Generando evaluación simulada...&#10;D/GeminiService: ✅ Evaluación generada: {COMMUNICATION=85, LEADERSHIP=78, ...}&#10;```&#10;&#10;---&#10;&#10;## ✅ VENTAJAS DEL SIMULADOR:&#10;&#10;| Característica | Estado |&#10;|----------------|--------|&#10;| ✅ Sin dependencias externas | Funciona offline |&#10;| ✅ Sin API keys necesarias | No requiere configuración |&#10;| ✅ Respuestas instantáneas | Sin delays de red reales |&#10;| ✅ Predecible | Fácil de probar |&#10;| ✅ Sin costos | 100% gratuito |&#10;| ✅ Sin cuotas | Sin límites de uso |&#10;&#10;---&#10;&#10;##  SI QUIERES ACTIVAR IA REAL MÁS ADELANTE:&#10;&#10;### Requisitos:&#10;1. Agregar dependencia de Google AI en `build.gradle.kts`:&#10;   ```kotlin&#10;   implementation(&quot;com.google.ai.client.generativeai:generativeai:0.9.0&quot;)&#10;   ```&#10;&#10;2. Sincronizar proyecto (File → Sync Project with Gradle Files)&#10;&#10;3. Restaurar el código de IA real desde el historial de Git&#10;&#10;4. Configurar API key en `local.properties`&#10;&#10;5. Cambiar `use_real_ai = true` en Remote Config&#10;&#10;**Pero por ahora, la app funciona perfectamente solo con el simulador.** ✅&#10;&#10;---&#10;&#10;##  RESULTADO FINAL:&#10;&#10;```&#10;✅ Código compilable&#10;✅ Sin errores&#10;✅ Sin dependencias de IA&#10;✅ Entrevistas funcionales&#10;✅ Evaluación automática&#10;✅ Resultados mostrados&#10;✅ App 100% operativa&#10;```&#10;&#10;---&#10;&#10;**¡LISTO PARA EJECUTAR!** &#10;&#10;Solo ejecuta `Run` y la app funcionará perfectamente con el simulador.&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/PERFIL-CORREGIDO-FIREBASE.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/PERFIL-CORREGIDO-FIREBASE.md" />
              <option name="updatedContent" value="# ✅ PERFIL ACTUALIZADO - Datos desde Firebase&#10;&#10;##  PROBLEMA RESUELTO:&#10;&#10;### ❌ ANTES:&#10;La pestaña de **Perfil** mostraba datos hardcodeados de &quot;Homero Simpson&quot; en lugar de los datos del usuario autenticado.&#10;&#10;```kotlin&#10;// ProfileRepository.kt (ANTES)&#10;override fun fetchData(): Result&lt;ProfileModel&gt; {&#10;    return Result.success(&#10;        ProfileModel(&#10;            name = Name.create(&quot;Homero J. Simpson&quot;),  // ❌ Hardcoded&#10;            email = Email.create(&quot;homero.simpson@springfieldmail.com&quot;),  // ❌ Hardcoded&#10;            cellphone = Cellphone(&quot;+1 (939) 555‑7422&quot;),  // ❌ Hardcoded&#10;            pathUrl = UrlPath(&quot;https://...homer.pg&quot;),  // ❌ Hardcoded&#10;            summary = Summary.create(&quot;Ciudadano de Springfield...&quot;)  // ❌ Hardcoded&#10;        )&#10;    )&#10;}&#10;```&#10;&#10;### ✅ AHORA:&#10;La pestaña de **Perfil** obtiene los datos del usuario autenticado desde **Firebase Auth** y **Firestore**.&#10;&#10;---&#10;&#10;##  CAMBIOS REALIZADOS:&#10;&#10;### 1. ✅ **ProfileRepository.kt** - Obtiene datos desde Firebase&#10;&#10;```kotlin&#10;class ProfileRepository(&#10;    private val firebaseAuth: FirebaseAuth,  // ← Inyectado&#10;    private val firestore: FirebaseFirestore  // ← Inyectado&#10;): IProfileRepository {&#10;    &#10;    override suspend fun fetchData(): Result&lt;ProfileModel&gt; {&#10;        return try {&#10;            // Obtener usuario actual de Firebase Auth&#10;            val currentUser = firebaseAuth.currentUser&#10;                ?: return Result.failure(Exception(&quot;No hay usuario autenticado&quot;))&#10;            &#10;            // Obtener datos adicionales de Firestore&#10;            val userDoc = firestore.collection(&quot;users&quot;)&#10;                .document(currentUser.uid)&#10;                .get()&#10;                .await()&#10;            &#10;            val displayName = userDoc.getString(&quot;displayName&quot;) ?: currentUser.displayName ?: &quot;Usuario&quot;&#10;            val email = currentUser.email ?: &quot;sin-email@ejemplo.com&quot;&#10;            &#10;            // Avatar automático si no tiene foto&#10;            val photoUrl = if (currentUser.photoUrl != null) {&#10;                currentUser.photoUrl.toString()&#10;            } else {&#10;                &quot;https://ui-avatars.com/api/?name=${displayName}&amp;size=200&quot;&#10;            }&#10;            &#10;            Result.success(&#10;                ProfileModel(&#10;                    name = Name.create(displayName),  // ✅ Desde Firebase&#10;                    email = Email.create(email),  // ✅ Desde Firebase&#10;                    cellphone = Cellphone(userDoc.getString(&quot;phone&quot;) ?: &quot;No disponible&quot;),  // ✅ Desde Firestore&#10;                    pathUrl = UrlPath(photoUrl),  // ✅ Dinámico&#10;                    summary = Summary.create(&#10;                        userDoc.getString(&quot;bio&quot;) ?: &quot;Miembro de Hire Tree&quot;  // ✅ Desde Firestore&#10;                    )&#10;                )&#10;            )&#10;        } catch (e: Exception) {&#10;            Result.failure(e)&#10;        }&#10;    }&#10;}&#10;```&#10;&#10;### 2. ✅ **IProfileRepository.kt** - Método suspend&#10;&#10;```kotlin&#10;interface IProfileRepository {&#10;    suspend fun fetchData(): Result&lt;ProfileModel&gt;  // ← Ahora es suspend&#10;}&#10;```&#10;&#10;### 3. ✅ **modules.kt** - Inyección de dependencias&#10;&#10;```kotlin&#10;// ANTES:&#10;single&lt;IProfileRepository&gt; { ProfileRepository() }  // ❌ Sin dependencias&#10;&#10;// AHORA:&#10;single&lt;IProfileRepository&gt; { ProfileRepository(get(), get()) }  // ✅ Con Firebase&#10;```&#10;&#10;---&#10;&#10;##  FLUJO DE DATOS:&#10;&#10;```&#10;Usuario hace Login&#10;    ↓&#10;Firebase Auth crea sesión&#10;    ↓&#10;Usuario navega a Perfil&#10;    ↓&#10;ProfileScreen se carga&#10;    ↓&#10;ProfileViewModel.showProfile()&#10;    ↓&#10;GetProfileUseCase.invoke()&#10;    ↓&#10;ProfileRepository.fetchData()&#10;    ↓&#10;1. Firebase Auth → currentUser (email, displayName, photoUrl)&#10;2. Firestore → users/{uid} (phone, bio)&#10;    ↓&#10;Combina datos en ProfileModel&#10;    ↓&#10;Actualiza UI con datos reales ✅&#10;```&#10;&#10;---&#10;&#10;##  DATOS MOSTRADOS:&#10;&#10;### Fuente de datos:&#10;&#10;| Campo | Fuente | Fallback |&#10;|-------|--------|----------|&#10;| **Nombre** | Firebase Auth `displayName` | &quot;Usuario&quot; |&#10;| **Email** | Firebase Auth `email` | &quot;sin-email@ejemplo.com&quot; |&#10;| **Teléfono** | Firestore `phone` | &quot;No disponible&quot; |&#10;| **Foto** | Firebase Auth `photoUrl` | Avatar generado (UI Avatars) |&#10;| **Bio** | Firestore `bio` | &quot;Miembro de Hire Tree&quot; |&#10;&#10;### Avatar automático:&#10;Si el usuario no tiene foto de perfil, se genera automáticamente con:&#10;```&#10;https://ui-avatars.com/api/?name=NombreUsuario&amp;size=200&amp;background=random&#10;```&#10;&#10;Ejemplo: **&quot;Andre Silva&quot;** → Avatar con iniciales **&quot;AS&quot;**&#10;&#10;---&#10;&#10;##  RESULTADO:&#10;&#10;### Pantalla de Perfil ahora muestra:&#10;&#10;```&#10;┌─────────────────────────────┐&#10;│     [Foto de Perfil]        │  ← De Firebase o avatar generado&#10;│                             │&#10;│   Andre Silva               │  ← displayName de Firebase&#10;│   andre@ejemplo.com         │  ← email de Firebase&#10;│   No disponible             │  ← phone de Firestore&#10;│                             │&#10;│   Miembro de Hire Tree      │  ← bio de Firestore&#10;│                             │&#10;│   [Cerrar Sesión]           │&#10;└─────────────────────────────┘&#10;```&#10;&#10;---&#10;&#10;## ✅ VERIFICACIÓN:&#10;&#10;### Paso 1: Login&#10;```&#10;1. Abre la app&#10;2. Haz login con tu cuenta&#10;```&#10;&#10;### Paso 2: Ver Perfil&#10;```&#10;3. Ve a la pestaña &quot;Perfil&quot;&#10;4. ¡Deberías ver TU NOMBRE y EMAIL! ✅&#10;```&#10;&#10;### Paso 3: Verificar datos&#10;```&#10;5. Nombre: El que usaste al registrarte&#10;6. Email: Tu email real&#10;7. Foto: Avatar con tus iniciales (si no has subido foto)&#10;```&#10;&#10;---&#10;&#10;##  CAMPOS ADICIONALES (Opcional):&#10;&#10;Si quieres agregar más datos al perfil del usuario, puedes:&#10;&#10;### 1. Actualizar Firestore al registrarse:&#10;&#10;```kotlin&#10;// En AuthRepositoryImpl.signUp()&#10;val user = User(&#10;    uid = firebaseUser.uid,&#10;    email = email,&#10;    displayName = displayName,&#10;    phone = &quot;+591 12345678&quot;,  // ← Agregar campo&#10;    bio = &quot;Usuario nuevo&quot;,     // ← Agregar campo&#10;    createdAt = System.currentTimeMillis()&#10;)&#10;```&#10;&#10;### 2. Crear pantalla de edición de perfil:&#10;- Agregar botón &quot;Editar Perfil&quot;&#10;- Permitir actualizar: teléfono, bio, foto&#10;- Guardar en Firestore&#10;&#10;---&#10;&#10;##  PRUEBA AHORA:&#10;&#10;```&#10;1. Sync Project&#10;2. Run → Run 'app' ▶️&#10;3. Login con tu cuenta&#10;4. Ve a Perfil&#10;5. ¡Verás tus datos reales! ✅&#10;```&#10;&#10;---&#10;&#10;**¡PERFIL FUNCIONANDO CON DATOS REALES DE FIREBASE!** &#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/di/modules.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/di/modules.kt" />
              <option name="originalContent" value="package com.calyrsoft.ucbp1.di&#10;&#10;import com.calyrsoft.ucbp1.core.config.RemoteConfigService&#10;import com.calyrsoft.ucbp1.features.auth.data.repository.AuthRepositoryImpl&#10;import com.calyrsoft.ucbp1.features.auth.domain.repository.AuthRepository&#10;import com.calyrsoft.ucbp1.features.auth.domain.usecase.SignInUseCase&#10;import com.calyrsoft.ucbp1.features.auth.domain.usecase.SignOutUseCase&#10;import com.calyrsoft.ucbp1.features.auth.domain.usecase.SignUpUseCase&#10;import com.calyrsoft.ucbp1.features.auth.presentation.AuthViewModel&#10;import com.calyrsoft.ucbp1.features.interview.data.api.GeminiService&#10;import com.calyrsoft.ucbp1.features.interview.data.repository.InterviewRepositoryImpl&#10;import com.calyrsoft.ucbp1.features.interview.domain.repository.InterviewRepository&#10;import com.calyrsoft.ucbp1.features.interview.domain.usecase.CompleteInterviewUseCase&#10;import com.calyrsoft.ucbp1.features.interview.domain.usecase.SendMessageUseCase&#10;import com.calyrsoft.ucbp1.features.interview.domain.usecase.StartInterviewUseCase&#10;import com.calyrsoft.ucbp1.features.interview.presentation.InterviewViewModel&#10;import com.calyrsoft.ucbp1.features.login.data.datasource.LoginDataStore&#10;import com.calyrsoft.ucbp1.features.login.data.repository.RepositoryDataStore&#10;import com.calyrsoft.ucbp1.features.login.domain.repository.IRepositoryDataStore&#10;import com.calyrsoft.ucbp1.features.login.domain.usecase.GetTokenUseCase&#10;import com.calyrsoft.ucbp1.features.login.domain.usecase.SaveTokenUseCase&#10;import com.calyrsoft.ucbp1.features.profile.application.ProfileViewModel&#10;import com.calyrsoft.ucbp1.features.profile.data.repository.ProfileRepository&#10;import com.calyrsoft.ucbp1.features.profile.domain.repository.IProfileRepository&#10;import com.calyrsoft.ucbp1.features.profile.domain.usecase.GetProfileUseCase&#10;import com.calyrsoft.ucbp1.navigation.NavigationViewModel&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.google.firebase.firestore.FirebaseFirestore&#10;import org.koin.android.ext.koin.androidContext&#10;import org.koin.androidx.viewmodel.dsl.viewModel&#10;import org.koin.dsl.module&#10;&#10;/**&#10; * Módulo de dependencias de HireTree Mobile&#10; * Solo incluye features relacionadas con entrevistas y evaluación de soft skills&#10; */&#10;val appModule = module {&#10;&#10;    // ============================================&#10;    // FIREBASE&#10;    // ============================================&#10;    single { FirebaseAuth.getInstance() }&#10;    single { FirebaseFirestore.getInstance() }&#10;&#10;    // ============================================&#10;    // REMOTE CONFIG&#10;    // ============================================&#10;    single { RemoteConfigService() }&#10;&#10;    // ============================================&#10;    // AUTH MODULE&#10;    // ============================================&#10;    single&lt;AuthRepository&gt; { AuthRepositoryImpl(get(), get()) }&#10;    factory { SignInUseCase(get()) }&#10;    factory { SignUpUseCase(get()) }&#10;    factory { SignOutUseCase(get()) }&#10;    viewModel { AuthViewModel(get(), get(), get(), get()) }&#10;&#10;    // ============================================&#10;    // INTERVIEW MODULE (CORE - HireTree)&#10;    // ============================================&#10;    single { GeminiService(get()) }&#10;    single&lt;InterviewRepository&gt; { InterviewRepositoryImpl(get(), get()) }&#10;    factory { StartInterviewUseCase(get()) }&#10;    factory { SendMessageUseCase(get()) }&#10;    factory { CompleteInterviewUseCase(get()) }&#10;    viewModel { InterviewViewModel(get(), get(), get()) }&#10;&#10;    // ============================================&#10;    // PROFILE MODULE&#10;    // ============================================&#10;    single&lt;IProfileRepository&gt; { ProfileRepository() }&#10;    factory { GetProfileUseCase(get()) }&#10;    viewModel { ProfileViewModel(get(), get()) }&#10;&#10;    // ============================================&#10;    // NAVIGATION&#10;    // ============================================&#10;    viewModel { NavigationViewModel() }&#10;&#10;    // ============================================&#10;    // LOGIN / DATASTORE&#10;    // ============================================&#10;    single { LoginDataStore(androidContext()) }&#10;    single&lt;IRepositoryDataStore&gt; { RepositoryDataStore(get()) }&#10;    factory { GetTokenUseCase(get()) }&#10;    factory { SaveTokenUseCase(get()) }&#10;&#10;}" />
              <option name="updatedContent" value="package com.calyrsoft.ucbp1.di&#10;&#10;import com.calyrsoft.ucbp1.core.config.RemoteConfigService&#10;import com.calyrsoft.ucbp1.features.auth.data.repository.AuthRepositoryImpl&#10;import com.calyrsoft.ucbp1.features.auth.domain.repository.AuthRepository&#10;import com.calyrsoft.ucbp1.features.auth.domain.usecase.SignInUseCase&#10;import com.calyrsoft.ucbp1.features.auth.domain.usecase.SignOutUseCase&#10;import com.calyrsoft.ucbp1.features.auth.domain.usecase.SignUpUseCase&#10;import com.calyrsoft.ucbp1.features.auth.presentation.AuthViewModel&#10;import com.calyrsoft.ucbp1.features.interview.data.api.GeminiService&#10;import com.calyrsoft.ucbp1.features.interview.data.repository.InterviewRepositoryImpl&#10;import com.calyrsoft.ucbp1.features.interview.domain.repository.InterviewRepository&#10;import com.calyrsoft.ucbp1.features.interview.domain.usecase.CompleteInterviewUseCase&#10;import com.calyrsoft.ucbp1.features.interview.domain.usecase.SendMessageUseCase&#10;import com.calyrsoft.ucbp1.features.interview.domain.usecase.StartInterviewUseCase&#10;import com.calyrsoft.ucbp1.features.interview.presentation.InterviewViewModel&#10;import com.calyrsoft.ucbp1.features.login.data.datasource.LoginDataStore&#10;import com.calyrsoft.ucbp1.features.login.data.repository.RepositoryDataStore&#10;import com.calyrsoft.ucbp1.features.login.domain.repository.IRepositoryDataStore&#10;import com.calyrsoft.ucbp1.features.login.domain.usecase.GetTokenUseCase&#10;import com.calyrsoft.ucbp1.features.login.domain.usecase.SaveTokenUseCase&#10;import com.calyrsoft.ucbp1.features.profile.application.ProfileViewModel&#10;import com.calyrsoft.ucbp1.features.profile.data.repository.ProfileRepository&#10;import com.calyrsoft.ucbp1.features.profile.domain.repository.IProfileRepository&#10;import com.calyrsoft.ucbp1.features.profile.domain.usecase.GetProfileUseCase&#10;import com.calyrsoft.ucbp1.navigation.NavigationViewModel&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.google.firebase.firestore.FirebaseFirestore&#10;import org.koin.android.ext.koin.androidContext&#10;import org.koin.androidx.viewmodel.dsl.viewModel&#10;import org.koin.dsl.module&#10;&#10;/**&#10; * Módulo de dependencias de HireTree Mobile&#10; * Solo incluye features relacionadas con entrevistas y evaluación de soft skills&#10; */&#10;val appModule = module {&#10;&#10;    // ============================================&#10;    // FIREBASE&#10;    // ============================================&#10;    single { FirebaseAuth.getInstance() }&#10;    single { FirebaseFirestore.getInstance() }&#10;&#10;    // ============================================&#10;    // REMOTE CONFIG&#10;    // ============================================&#10;    single { RemoteConfigService() }&#10;&#10;    // ============================================&#10;    // AUTH MODULE&#10;    // ============================================&#10;    single&lt;AuthRepository&gt; { AuthRepositoryImpl(get(), get()) }&#10;    factory { SignInUseCase(get()) }&#10;    factory { SignUpUseCase(get()) }&#10;    factory { SignOutUseCase(get()) }&#10;    viewModel { AuthViewModel(get(), get(), get(), get()) }&#10;&#10;    // ============================================&#10;    // INTERVIEW MODULE (CORE - HireTree)&#10;    // ============================================&#10;    single { GeminiService(get()) }&#10;    single&lt;InterviewRepository&gt; { InterviewRepositoryImpl(get(), get()) }&#10;    factory { StartInterviewUseCase(get()) }&#10;    factory { SendMessageUseCase(get()) }&#10;    factory { CompleteInterviewUseCase(get()) }&#10;    viewModel { InterviewViewModel(get(), get(), get()) }&#10;&#10;    // ============================================&#10;    // PROFILE MODULE&#10;    // ============================================&#10;    single&lt;IProfileRepository&gt; { ProfileRepository(get(), get()) }&#10;    factory { GetProfileUseCase(get()) }&#10;    viewModel { ProfileViewModel(get(), get()) }&#10;&#10;    // ============================================&#10;    // NAVIGATION&#10;    // ============================================&#10;    viewModel { NavigationViewModel() }&#10;&#10;    // ============================================&#10;    // LOGIN / DATASTORE&#10;    // ============================================&#10;    single { LoginDataStore(androidContext()) }&#10;    single&lt;IRepositoryDataStore&gt; { RepositoryDataStore(get()) }&#10;    factory { GetTokenUseCase(get()) }&#10;    factory { SaveTokenUseCase(get()) }&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/features/interview/data/api/GeminiService.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/features/interview/data/api/GeminiService.kt" />
              <option name="originalContent" value="package com.calyrsoft.ucbp1.features.interview.data.api&#10;&#10;import android.util.Log&#10;import com.calyrsoft.ucbp1.core.config.RemoteConfigService&#10;import com.calyrsoft.ucbp1.features.interview.domain.model.SoftSkill&#10;import com.google.ai.client.generativeai.GenerativeModel&#10;import com.google.ai.client.generativeai.type.content&#10;import kotlinx.coroutines.delay&#10;import kotlinx.coroutines.flow.Flow&#10;import kotlinx.coroutines.flow.flow&#10;&#10;/**&#10; * Servicio que maneja la comunicación con Gemini AI o el simulador&#10; * Usa Firebase Remote Config para determinar qué usar&#10; */&#10;class GeminiService(&#10;    private val remoteConfig: RemoteConfigService&#10;) {&#10;&#10;    // Instancia del modelo generativo de Google AI&#10;    private val generativeModel by lazy {&#10;        GenerativeModel(&#10;            modelName = remoteConfig.getGeminiModel(),&#10;            apiKey = remoteConfig.getGeminiApiKey()&#10;        )&#10;    }&#10;&#10;    // Chat session para mantener el contexto de la conversación&#10;    private var chatSession = generativeModel.startChat()&#10;&#10;    private var questionIndex = 0&#10;    private val simulatedQuestions = listOf(&#10;        &quot;Gracias por la información. Ahora, cuéntame sobre un desafío importante que hayas enfrentado en un proyecto y cómo lo superaste.&quot;,&#10;        &quot;Interesante. ¿Puedes describir una situación en la que tuviste que trabajar con alguien con una personalidad muy diferente a la tuya? ¿Cómo lo manejaste?&quot;,&#10;        &quot;Entiendo. Ahora, imagina que se te asigna un proyecto con un plazo de entrega muy ajustado. ¿Cuáles serían tus primeros tres pasos?&quot;,&#10;        &quot;Muy bien. ¿Qué harías si un miembro de tu equipo no está cumpliendo con su parte del trabajo?&quot;,&#10;        &quot;Hablemos de cambios. Describe una situación en la que tuviste que adaptarte rápidamente a un cambio inesperado en un proyecto o en tus responsabilidades.&quot;,&#10;        &quot;Ya casi terminamos. ¿Puedes darme un ejemplo de una vez que tuviste que comunicar una idea compleja a una audiencia que no sabía mucho sobre el tema?&quot;,&#10;        &quot;Perfecto. Muchas gracias por tu tiempo. Hemos concluido la entrevista. ENTRENVISTA_COMPLETADA&quot;&#10;    )&#10;&#10;    fun startNewInterview(): String {&#10;        val useRealAI = remoteConfig.shouldUseRealAI()&#10;&#10;        Log.d(&quot;GeminiService&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot; Iniciando nueva entrevista&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot;   Modo: ${if (useRealAI) &quot;IA REAL (Gemini)&quot; else &quot;SIMULADOR&quot;}&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot;   Modelo: ${remoteConfig.getGeminiModel()}&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot;   API Key: ${if (remoteConfig.getGeminiApiKey().isNotEmpty()) &quot;✅ Configurada&quot; else &quot;❌ No disponible&quot;}&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;&#10;        questionIndex = 0&#10;&#10;        return if (useRealAI) {&#10;            startRealAIInterview()&#10;        } else {&#10;            startSimulatedInterview()&#10;        }&#10;    }&#10;&#10;    fun sendMessage(userMessage: String): Flow&lt;String&gt; = flow {&#10;        val useRealAI = remoteConfig.shouldUseRealAI()&#10;&#10;        if (useRealAI) {&#10;            sendMessageToRealAI(userMessage).collect { emit(it) }&#10;        } else {&#10;            sendMessageToSimulator(userMessage).collect { emit(it) }&#10;        }&#10;    }&#10;&#10;    suspend fun evaluateSkills(): Map&lt;SoftSkill, Int&gt; {&#10;        val useRealAI = remoteConfig.shouldUseRealAI()&#10;&#10;        return if (useRealAI) {&#10;            evaluateSkillsWithRealAI()&#10;        } else {&#10;            evaluateSkillsSimulated()&#10;        }&#10;    }&#10;&#10;    // ========================================&#10;    // MÉTODOS DEL SIMULADOR&#10;    // ========================================&#10;&#10;    private fun startSimulatedInterview(): String {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Usando SIMULADOR de entrevista&quot;)&#10;        questionIndex = 0&#10;        return &quot;¡Hola! Bienvenido a la entrevista simulada. Para comenzar, por favor, dime tu nombre, profesión y edad.&quot;&#10;    }&#10;&#10;    private fun sendMessageToSimulator(userMessage: String): Flow&lt;String&gt; = flow {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Simulador procesando mensaje: ${userMessage.take(50)}...&quot;)&#10;        delay(1200) // Simular delay de red&#10;&#10;        val maxQuestions = remoteConfig.getMaxQuestions()&#10;&#10;        if (questionIndex &lt; simulatedQuestions.size &amp;&amp; questionIndex &lt; maxQuestions) {&#10;            Log.d(&quot;GeminiService&quot;, &quot; Enviando pregunta ${questionIndex + 1}/$maxQuestions&quot;)&#10;            emit(simulatedQuestions[questionIndex])&#10;            questionIndex++&#10;        } else {&#10;            Log.d(&quot;GeminiService&quot;, &quot;✅ Fin de la entrevista simulada&quot;)&#10;            emit(&quot;Gracias, eso es todo por ahora. ENTRENVISTA_COMPLETADA&quot;)&#10;        }&#10;    }&#10;&#10;    private suspend fun evaluateSkillsSimulated(): Map&lt;SoftSkill, Int&gt; {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Generando evaluación simulada...&quot;)&#10;        delay(800)&#10;&#10;        // Generar scores aleatorios pero realistas&#10;        return mapOf(&#10;            SoftSkill.COMMUNICATION to (75..95).random(),&#10;            SoftSkill.LEADERSHIP to (70..90).random(),&#10;            SoftSkill.TEAMWORK to (80..95).random(),&#10;            SoftSkill.PROBLEM_SOLVING to (75..90).random(),&#10;            SoftSkill.ADAPTABILITY to (80..95).random()&#10;        ).also {&#10;            Log.d(&quot;GeminiService&quot;, &quot;✅ Evaluación generada: $it&quot;)&#10;        }&#10;    }&#10;&#10;    // ========================================&#10;    // MÉTODOS DE IA REAL (GEMINI)&#10;    // ========================================&#10;&#10;    private fun startRealAIInterview(): String {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Iniciando chat con GEMINI AI REAL&quot;)&#10;&#10;        // Reiniciar la sesión de chat para una nueva entrevista&#10;        chatSession = generativeModel.startChat()&#10;&#10;        return getSystemPrompt()&#10;    }&#10;&#10;    private fun getSystemPrompt(): String {&#10;        return &quot;&quot;&quot;&#10;            ¡Hola! Bienvenido/a a tu entrevista de evaluación de soft skills.&#10;            &#10;            Soy tu entrevistador virtual y voy a hacerte algunas preguntas para conocerte mejor.&#10;            &#10;            Para comenzar, por favor cuéntame:&#10;            • ¿Cómo te llamas?&#10;            • ¿Cuál es tu profesión u ocupación actual?&#10;            • ¿Cuántos años tienes?&#10;        &quot;&quot;&quot;.trimIndent()&#10;    }&#10;&#10;    private fun sendMessageToRealAI(userMessage: String): Flow&lt;String&gt; = flow {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Enviando mensaje a Gemini AI...&quot;)&#10;&#10;        try {&#10;            // Construir el prompt completo con instrucciones del sistema&#10;            val fullPrompt = buildPromptWithInstructions(userMessage)&#10;&#10;            // Enviar mensaje a Gemini y obtener respuesta&#10;            val response = chatSession.sendMessage(fullPrompt)&#10;            val aiResponse = response.text ?: &quot;Lo siento, no pude generar una respuesta.&quot;&#10;&#10;            Log.d(&quot;GeminiService&quot;, &quot;✅ Respuesta de Gemini recibida: ${aiResponse.take(100)}...&quot;)&#10;            emit(aiResponse)&#10;&#10;        } catch (e: Exception) {&#10;            Log.e(&quot;GeminiService&quot;, &quot;❌ Error al comunicarse con Gemini AI&quot;, e)&#10;&#10;            // Fallback al simulador si hay error&#10;            Log.w(&quot;GeminiService&quot;, &quot;⚠️ Usando simulador como fallback&quot;)&#10;            sendMessageToSimulator(userMessage).collect { emit(it) }&#10;        }&#10;    }&#10;&#10;    private fun buildPromptWithInstructions(userMessage: String): String {&#10;        val maxQuestions = remoteConfig.getMaxQuestions()&#10;&#10;        return &quot;&quot;&quot;&#10;            INSTRUCCIONES DEL SISTEMA (NO MENCIONAR AL USUARIO):&#10;            &#10;            Eres un entrevistador profesional de recursos humanos especializado en evaluar soft skills.&#10;            &#10;            CONTEXTO DE LA ENTREVISTA:&#10;            - Primero preguntarás: nombre, profesión/ocupación y edad del candidato&#10;            - Usa esta información para personalizar las siguientes preguntas&#10;            - Adapta las preguntas según su profesión y experiencia&#10;            &#10;            Tu objetivo es evaluar las siguientes habilidades blandas:&#10;            1. Comunicación: Claridad, coherencia, escucha activa&#10;            2. Liderazgo: Iniciativa, toma de decisiones, motivación&#10;            3. Trabajo en Equipo: Colaboración, empatía, coordinación&#10;            4. Resolución de Problemas: Análisis, creatividad, pensamiento crítico&#10;            5. Adaptabilidad: Flexibilidad, apertura al cambio, resiliencia&#10;            &#10;            IMPORTANTE:&#10;            - Después de recibir nombre, profesión y edad, haz preguntas conversacionales relevantes a su área&#10;            - Realiza entre 8-12 preguntas en total (sin contar la presentación inicial)&#10;            - Cada pregunta debe evaluar principalmente una soft skill&#10;            - Usa situaciones hipotéticas realistas del mundo laboral según su profesión&#10;            - Mantén un tono amigable y profesional&#10;            - Haz seguimiento a las respuestas con preguntas de profundización&#10;            - Dirígete al candidato por su nombre durante la conversación&#10;            - NO menciones que estás evaluando skills específicas&#10;            - Al final (después de 10+ respuestas significativas), indica que la entrevista ha terminado con: &quot;ENTREVISTA_COMPLETADA&quot;&#10;            &#10;            Ejemplos de preguntas conversacionales adaptadas:&#10;            - Para un desarrollador: &quot;Cuéntame sobre alguna vez que tuviste que explicar código complejo a alguien no técnico&quot;&#10;            - Para un gerente: &quot;Describe una situación en la que tuviste que motivar a tu equipo en un momento difícil&quot;&#10;            - Para un diseñador: &quot;¿Cómo manejas el feedback negativo sobre tus diseños?&quot;&#10;            &#10;            RESPUESTA MÁXIMA: Máximo $maxQuestions preguntas en total.&#10;            &#10;            ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&#10;            &#10;            MENSAJE DEL USUARIO:&#10;            $userMessage&#10;            &#10;            RESPUESTA DEL ENTREVISTADOR (amigable, profesional, conversacional):&#10;        &quot;&quot;&quot;.trimIndent()&#10;    }&#10;&#10;    private suspend fun evaluateSkillsWithRealAI(): Map&lt;SoftSkill, Int&gt; {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Evaluando con Gemini AI...&quot;)&#10;&#10;        try {&#10;            val evaluationPrompt = &quot;&quot;&quot;&#10;                INSTRUCCIONES: Basándote en la conversación que acabamos de tener, evalúa las siguientes soft skills del candidato en una escala de 0 a 100.&#10;                &#10;                Proporciona ÚNICAMENTE los números, uno por línea, en este orden exacto:&#10;                1. Comunicación (claridad, coherencia)&#10;                2. Liderazgo (iniciativa, decisiones)&#10;                3. Trabajo en Equipo (colaboración)&#10;                4. Resolución de Problemas (análisis)&#10;                5. Adaptabilidad (flexibilidad)&#10;                &#10;                Formato de respuesta (SOLO NÚMEROS):&#10;                85&#10;                78&#10;                90&#10;                82&#10;                88&#10;            &quot;&quot;&quot;.trimIndent()&#10;&#10;            val response = chatSession.sendMessage(evaluationPrompt)&#10;            val evaluationText = response.text ?: &quot;&quot;&#10;&#10;            Log.d(&quot;GeminiService&quot;, &quot; Respuesta de evaluación: $evaluationText&quot;)&#10;&#10;            return parseEvaluationScores(evaluationText)&#10;&#10;        } catch (e: Exception) {&#10;            Log.e(&quot;GeminiService&quot;, &quot;❌ Error al evaluar con Gemini AI&quot;, e)&#10;&#10;            // Fallback al simulador si hay error&#10;            Log.w(&quot;GeminiService&quot;, &quot;⚠️ Evaluación con Gemini falló, usando simulador&quot;)&#10;            return evaluateSkillsSimulated()&#10;        }&#10;    }&#10;&#10;    private suspend fun parseEvaluationScores(evaluationText: String): Map&lt;SoftSkill, Int&gt; {&#10;        return try {&#10;            // Extraer solo los números de la respuesta&#10;            val scores = evaluationText.lines()&#10;                .map { it.trim() }&#10;                .filter { it.isNotEmpty() }&#10;                .mapNotNull { line -&gt;&#10;                    // Intentar extraer el primer número de cada línea&#10;                    line.split(Regex(&quot;\\D+&quot;))&#10;                        .firstOrNull { it.isNotEmpty() }&#10;                        ?.toIntOrNull()&#10;                }&#10;                .take(5) // Solo tomar los primeros 5 números&#10;&#10;            if (scores.size == 5) {&#10;                mapOf(&#10;                    SoftSkill.COMMUNICATION to scores[0].coerceIn(0, 100),&#10;                    SoftSkill.LEADERSHIP to scores[1].coerceIn(0, 100),&#10;                    SoftSkill.TEAMWORK to scores[2].coerceIn(0, 100),&#10;                    SoftSkill.PROBLEM_SOLVING to scores[3].coerceIn(0, 100),&#10;                    SoftSkill.ADAPTABILITY to scores[4].coerceIn(0, 100)&#10;                ).also {&#10;                    Log.d(&quot;GeminiService&quot;, &quot;✅ Evaluación parseada: $it&quot;)&#10;                }&#10;            } else {&#10;                Log.w(&quot;GeminiService&quot;, &quot;⚠️ No se pudieron parsear 5 scores, usando simulador&quot;)&#10;                evaluateSkillsSimulated()&#10;            }&#10;&#10;        } catch (e: Exception) {&#10;            Log.e(&quot;GeminiService&quot;, &quot;❌ Error al parsear scores&quot;, e)&#10;            evaluateSkillsSimulated()&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.calyrsoft.ucbp1.features.interview.data.api&#10;&#10;import android.util.Log&#10;import com.calyrsoft.ucbp1.core.config.RemoteConfigService&#10;import com.calyrsoft.ucbp1.features.interview.domain.model.SoftSkill&#10;import kotlinx.coroutines.delay&#10;import kotlinx.coroutines.flow.Flow&#10;import kotlinx.coroutines.flow.flow&#10;&#10;/**&#10; * Servicio que maneja la comunicación con el simulador de entrevista&#10; * IA REAL DESACTIVADA - Solo funciona con simulador&#10; */&#10;class GeminiService(&#10;    private val remoteConfig: RemoteConfigService&#10;) {&#10;&#10;&#10;    private var questionIndex = 0&#10;    private val simulatedQuestions = listOf(&#10;        &quot;Gracias por la información. Ahora, cuéntame sobre un desafío importante que hayas enfrentado en un proyecto y cómo lo superaste.&quot;,&#10;        &quot;Interesante. ¿Puedes describir una situación en la que tuviste que trabajar con alguien con una personalidad muy diferente a la tuya? ¿Cómo lo manejaste?&quot;,&#10;        &quot;Entiendo. Ahora, imagina que se te asigna un proyecto con un plazo de entrega muy ajustado. ¿Cuáles serían tus primeros tres pasos?&quot;,&#10;        &quot;Muy bien. ¿Qué harías si un miembro de tu equipo no está cumpliendo con su parte del trabajo?&quot;,&#10;        &quot;Hablemos de cambios. Describe una situación en la que tuviste que adaptarte rápidamente a un cambio inesperado en un proyecto o en tus responsabilidades.&quot;,&#10;        &quot;Ya casi terminamos. ¿Puedes darme un ejemplo de una vez que tuviste que comunicar una idea compleja a una audiencia que no sabía mucho sobre el tema?&quot;,&#10;        &quot;Perfecto. Muchas gracias por tu tiempo. Hemos concluido la entrevista. ENTRENVISTA_COMPLETADA&quot;&#10;    )&#10;&#10;    fun startNewInterview(): String {&#10;        Log.d(&quot;GeminiService&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot; Iniciando nueva entrevista&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot;   Modo: SIMULADOR (IA desactivada)&quot;)&#10;        Log.d(&quot;GeminiService&quot;, &quot;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━&quot;)&#10;&#10;        questionIndex = 0&#10;        return startSimulatedInterview()&#10;    }&#10;&#10;    fun sendMessage(userMessage: String): Flow&lt;String&gt; = flow {&#10;        sendMessageToSimulator(userMessage).collect { emit(it) }&#10;    }&#10;&#10;    suspend fun evaluateSkills(): Map&lt;SoftSkill, Int&gt; {&#10;        return evaluateSkillsSimulated()&#10;    }&#10;&#10;    // ========================================&#10;    // MÉTODOS DEL SIMULADOR&#10;    // ========================================&#10;&#10;    private fun startSimulatedInterview(): String {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Usando SIMULADOR de entrevista&quot;)&#10;        questionIndex = 0&#10;        return &quot;¡Hola! Bienvenido a la entrevista simulada. Para comenzar, por favor, dime tu nombre, profesión y edad.&quot;&#10;    }&#10;&#10;    private fun sendMessageToSimulator(userMessage: String): Flow&lt;String&gt; = flow {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Simulador procesando mensaje: ${userMessage.take(50)}...&quot;)&#10;        delay(1200) // Simular delay de red&#10;&#10;        val maxQuestions = remoteConfig.getMaxQuestions()&#10;&#10;        if (questionIndex &lt; simulatedQuestions.size &amp;&amp; questionIndex &lt; maxQuestions) {&#10;            Log.d(&quot;GeminiService&quot;, &quot; Enviando pregunta ${questionIndex + 1}/$maxQuestions&quot;)&#10;            emit(simulatedQuestions[questionIndex])&#10;            questionIndex++&#10;        } else {&#10;            Log.d(&quot;GeminiService&quot;, &quot;✅ Fin de la entrevista simulada&quot;)&#10;            emit(&quot;Gracias, eso es todo por ahora. ENTRENVISTA_COMPLETADA&quot;)&#10;        }&#10;    }&#10;&#10;    private suspend fun evaluateSkillsSimulated(): Map&lt;SoftSkill, Int&gt; {&#10;        Log.d(&quot;GeminiService&quot;, &quot; Generando evaluación simulada...&quot;)&#10;        delay(800)&#10;&#10;        // Generar scores aleatorios pero realistas&#10;        return mapOf(&#10;            SoftSkill.COMMUNICATION to (75..95).random(),&#10;            SoftSkill.LEADERSHIP to (70..90).random(),&#10;            SoftSkill.TEAMWORK to (80..95).random(),&#10;            SoftSkill.PROBLEM_SOLVING to (75..90).random(),&#10;            SoftSkill.ADAPTABILITY to (80..95).random()&#10;        ).also {&#10;            Log.d(&quot;GeminiService&quot;, &quot;✅ Evaluación generada: $it&quot;)&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/features/profile/data/repository/ProfileRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/features/profile/data/repository/ProfileRepository.kt" />
              <option name="originalContent" value="package com.calyrsoft.ucbp1.features.profile.data.repository&#10;&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.UrlPath&#10;import com.calyrsoft.ucbp1.features.login.domain.model.Email&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.ProfileModel&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.vo.Cellphone&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.vo.Name&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.vo.Summary&#10;import com.calyrsoft.ucbp1.features.profile.domain.repository.IProfileRepository&#10;&#10;class ProfileRepository: IProfileRepository {&#10;    override fun fetchData(): Result&lt;ProfileModel&gt; {&#10;        return Result.success(&#10;            ProfileModel(&#10;                name = Name.create(&quot;Homero J. Simpson&quot;),&#10;                email = Email.create(&quot;homero.simpson@springfieldmail.com&quot;),&#10;                cellphone = Cellphone(&quot;+1 (939) 555‑7422&quot;),&#10;                pathUrl = UrlPath(&quot;https://www.viaempresa.cat/uploads/s1/43/99/69/homer.pg&quot;),&#10;                summary = Summary.create(&quot;Ciudadano de Springfield y dedicado inspector de seguridad en la Planta Nuclear.&quot;)&#10;            )&#10;        )&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.calyrsoft.ucbp1.features.profile.data.repository&#10;&#10;import com.calyrsoft.ucbp1.features.login.domain.model.Email&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.ProfileModel&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.UrlPath&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.vo.Cellphone&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.vo.Name&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.vo.Summary&#10;import com.calyrsoft.ucbp1.features.profile.domain.repository.IProfileRepository&#10;import com.google.firebase.auth.FirebaseAuth&#10;import com.google.firebase.firestore.FirebaseFirestore&#10;import kotlinx.coroutines.tasks.await&#10;&#10;class ProfileRepository(&#10;    private val firebaseAuth: FirebaseAuth,&#10;    private val firestore: FirebaseFirestore&#10;): IProfileRepository {&#10;    &#10;    override suspend fun fetchData(): Result&lt;ProfileModel&gt; {&#10;        return try {&#10;            // Obtener usuario actual de Firebase Auth&#10;            val currentUser = firebaseAuth.currentUser&#10;                ?: return Result.failure(Exception(&quot;No hay usuario autenticado&quot;))&#10;            &#10;            // Obtener datos adicionales de Firestore&#10;            val userDoc = firestore.collection(&quot;users&quot;)&#10;                .document(currentUser.uid)&#10;                .get()&#10;                .await()&#10;            &#10;            val displayName = userDoc.getString(&quot;displayName&quot;) ?: currentUser.displayName ?: &quot;Usuario&quot;&#10;            val email = currentUser.email ?: &quot;sin-email@ejemplo.com&quot;&#10;            &#10;            // Generar avatar automático con UI Avatars si no tiene foto&#10;            val photoUrl = if (currentUser.photoUrl != null) {&#10;                currentUser.photoUrl.toString()&#10;            } else {&#10;                &quot;https://ui-avatars.com/api/?name=${displayName.replace(&quot; &quot;, &quot;+&quot;)}&amp;size=200&amp;background=random&quot;&#10;            }&#10;            &#10;            Result.success(&#10;                ProfileModel(&#10;                    name = Name.create(displayName),&#10;                    email = Email.create(email),&#10;                    cellphone = Cellphone(userDoc.getString(&quot;phone&quot;) ?: &quot;No disponible&quot;),&#10;                    pathUrl = UrlPath(photoUrl),&#10;                    summary = Summary.create(&#10;                        userDoc.getString(&quot;bio&quot;) ?: &quot;Miembro de Hire Tree&quot;&#10;                    )&#10;                )&#10;            )&#10;        } catch (e: Exception) {&#10;            Result.failure(e)&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/features/profile/domain/repository/IProfileRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/calyrsoft/ucbp1/features/profile/domain/repository/IProfileRepository.kt" />
              <option name="originalContent" value="package com.calyrsoft.ucbp1.features.profile.domain.repository&#10;&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.ProfileModel&#10;&#10;interface IProfileRepository {&#10;    fun fetchData(): Result&lt;ProfileModel&gt;&#10;}" />
              <option name="updatedContent" value="package com.calyrsoft.ucbp1.features.profile.domain.repository&#10;&#10;import com.calyrsoft.ucbp1.features.profile.domain.model.ProfileModel&#10;&#10;interface IProfileRepository {&#10;    suspend fun fetchData(): Result&lt;ProfileModel&gt;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>